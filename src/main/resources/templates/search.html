<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results - IgniteU</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #272829;
            color: #fff;
        }
        .navbar, .sidebar, .search-bar, .contacts {
            background-color: #1e1e1e;
        }
        .sidebar {
            height: 100vh;
            position: fixed;
            top: 0;
            bottom: 0;
            width: 250px;
            padding: 20px;
            z-index: 1000; /* Ensure sidebar stays on top */
        }
        .contacts {
            height: 100vh;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 250px;
            padding: 20px;
            overflow-y: auto;
            z-index: 1000; /* Ensure contacts stay on top */
        }
        .profile-card {
            background-color: #1e1e1e;
            border: none;
            border-radius: 10px;
            margin-bottom: 20px;
            color: white;
        }
        .profile-card h5 {
            color: white;
        }
        .profile-card .btn {
            background-color: #333;
            color: white;
        }
        .btn-search {
            background-color: #28a745;
            color: white;
        }
        .sidebar a, .contacts a {
            color: white;
            text-decoration: none;
        }
        .sidebar a:hover, .contacts a:hover {
            color: #28a745;
        }
        .main-container {
            display: flex;
            flex-wrap: nowrap;
            height: 100vh;
        }
        .content {
            flex: 1;
            margin-left: 270px;
            margin-right: 270px;
            padding: 20px;
            overflow-y: auto;
        }
        .search-bar {
            background-color: #272829;
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .search-bar input {
            flex: 1;
            margin-right: 10px;
            width: 100vh;
        }
        .search-bar button {
            width: 100px;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <nav class="sidebar">
            <div class="toolbar"> 
                <svg version="1.1" viewBox="0 0 2048 778" width="100" height="50" xmlns="http://www.w3.org/2000/svg">
                    <path transform="translate(548,296)" d="m0 0 10 1 28 7 5 2-4 16-5 10-9 10-15 10 1 5 7 8 8 16 2 9v23l-3 13-5 10-9 12-10 8-14 8-13 5-22 4-39 1-8 5-3 6v9l3 6 5 4 8 2 10 1 69 1 17 4 16 8 10 9 7 12 4 14 1 9v14l-2 14-6 15-6 9-9 10-18 11-19 7-20 4-17 2h-36l-25-3-21-5-12-5-12-7-10-9-7-11-5-16v-13l4-13 7-10 7-6 14-7 12-3-1-6-10-8-7-11-3-11v-9l3-10 4-6 5-5 8-6 15-6-1-5-14-11-9-10-6-10-5-15-1-11v-9l2-15 5-13 6-10 9-10 9-7 14-7 16-5 12-2h33l18 4 12 4 5-8 4-10 4-15zm-71 66-12 5-8 8-5 11-1 4v17l4 12 7 8 8 5 5 2 8 1h10l13-4 6-4 7-8 4-11 1-6v-8l-3-12-6-10-5-4-10-5-4-1zm-28 193-10 5-5 5-3 5-1 3v11l4 9 9 8 12 5 9 2 9 1h28l17-3 10-4 8-6 6-8 2-7v-9l-4-9-6-5-10-3z" fill="#FEFEFE"/>
                    <path transform="translate(1761,249)" d="m0 0 56 1v209l-4 23-5 15-8 16-7 9-6 7-13 10-16 8-15 5-22 4-6 1h-44l-19-3-20-6-17-8-12-9-9-9-10-15-6-14-4-14-3-17-1-8-1-34v-134l1-36h58l1 1 1 207 5 16 6 11 9 9 14 7 11 3 7 1h24l15-3 16-8 7-6 7-11 4-9 3-15 1-11v-154l1-38z" fill="#FEFEFE"/>
                    <path transform="translate(1297,324)" d="m0 0h32l18 3 18 6 15 9 12 11 9 13 6 13 4 15 1 7 1 27v16l-1 6-3 2-149 1 1 10 4 15 7 13 7 7 10 6 13 4 9 1h10l17-2 14-7 9-8 8-11 4-1 15 9 20 13 3 3-6 11-7 9-13 13-13 8-11 5-15 4-11 2h-37l-20-4-18-6-13-7-13-10-7-7-9-13-8-16-6-20-2-10-1-26 1-18 4-20 5-14 9-17 10-13 8-8 13-9 14-7 20-6zm5 43-15 5-11 8-8 11-5 12-2 7v6h97l1-1-1-12-4-14-7-10-9-7-15-5z" fill="#FEFEFE"/>
                    <path transform="translate(757,324)" d="m0 0h26l16 3 15 6 13 10 9 13 6 14 3 14 1 9 1 133v28l-1 1h-56l-1-1-1-156-4-11-8-9-9-4-4-1h-25l-10 3-10 6-7 6-8 14-4 17-1 9-1 126-1 1h-52l-4-2v-226l2-1h52l1 1 1 7v28l5-2 8-11 10-10 13-8 14-5z" fill="#FEFEFE"/>
                    <path transform="translate(1092,273)" d="m0 0h8v53h64l2 1v42l-1 1h-64v113l3 11 4 6v2l4 2 7 3 12 1 12-2 12-5 3-1 4 6 10 28 1 8-7 6-13 5-18 4h-32l-19-5-13-7-12-11-8-13-5-15-2-12-1-13v-111h-35l-1-8v-28l2-7 9-1h25v-43l2-2 40-7z" fill="#FEFEFE"/>
                    <path transform="translate(324,249)" d="m0 0 3 3-1 303h-58l-1-1v-304z" fill="#FEFEFE"/>
                    <path transform="translate(912,326)" d="m0 0h54l1 1v227l-1 1h-55l-1-1v-227z" fill="#FEFEFE"/>
                    <path transform="translate(940,146)" d="m0 0 4 2 12 11 8 13 5 15 1 7v18l-6 24 7-9 3-8 3 1 5 8 4 11 1 5v12l-4 13-7 10-8 9-3-1-3-14-3-4-6 12-2 1-1-14-3-9-5-12-1-4v-15l-9 7-7 8-6 13-1 6v20l1 5-4-1-10-9-8-13-3-8v-20l5-13 7-11 9-10 8-8 11-14 6-11 2-5v-11z" fill="#FEFEFE"/>
                    </svg>
              </div>
            <div class="sidebar-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Notificaciones</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Crear Post</a>
                    </li>
                </ul>
                <br/>
                <button class="btn btn-secondary btn-sm">Crear una comunidad</button>
                <br/><br />
                <h6 class="mt-4">Comunidades</h6>
                <hr class="hr" />
                <div class="mr-3">
                    <img src="https://via.placeholder.com/30" class="rounded-circle" alt="Video en vivo">
                    <span>Elden ring</span>
                </div>
                <hr class="hr" />
                <div class="mr-3">
                    <img src="https://via.placeholder.com/30" class="rounded-circle" alt="Video en vivo">
                    <span>Sticks</span>
                </div>
            </div>
        </nav>

        <main role="main" class="content">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Resultado de b√∫squeda para "<span th:text="${query}"></span>"</h1>
            </div>

            <div class="search-bar mb-4">
                <form th:action="@{/search}" method="get" class="d-flex">
                    <input type="text" class="form-control" name="query" placeholder="Search" aria-label="Search" th:value="${query}">
                    <button type="submit" class="btn btn-search ms-2">Search</button>
                </form>
            </div>
            

            <div th:if="${searchResults.isEmpty()}">
                <p>Usuario inexistente</p>
            </div>

            <div th:if="${!searchResults.isEmpty()}">
                <div class="row">
                    <div class="col-md-4" th:each="user : ${searchResults}">
                        <div class="card profile-card h-100">
                            <div class="card-body">
                                <h5 class="card-title" th:text="${user.username}">Nombre</h5>
                                <p class="card-text" th:text="${user.correo}">Correo</p>
                                <button class="btn btn-edit btn-sm">Ver perfil</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <nav class="contacts">
            <div class="contacts-sticky pt-3">
                <h6>Contactos</h6>
                <ul class="nav flex-column mb-2">
                    <hr class="hr" />
                    <div class="mr-3">
                        <img src="https://via.placeholder.com/25" class="rounded-circle" alt="Video en vivo">
                        <span>Sticks</span>
                    </div>
                    <hr class="hr" />
                    <div class="mr-3">
                        <img src="https://via.placeholder.com/25" class="rounded-circle" alt="Video en vivo">
                        <span>Sticks</span>
                    </div>
                    <hr class="hr" />
                    <div class="mr-3">
                        <img src="https://via.placeholder.com/25" class="rounded-circle" alt="Video en vivo">
                        <span>Sticks</span>
                    </div>
                </ul>
            </div>
        </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
